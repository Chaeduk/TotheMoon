<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>댓글 분석</title>
    <!-- 합쳐지고 최소화된 최신 CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

    <!-- 부가적인 테마 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

    <!-- 합쳐지고 최소화된 최신 자바스크립트 -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <!-- CSS only -->
    <!--
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link th:href="@{/css/layout1.css}" rel="stylesheet">


    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <th:block layout:fragment="script"></th:block>
    <th:block layout:fragment="css"></th:block>
    -->
    <style>
        .container{
            height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #btnWrapper{
             display: flex;
             justify-content: center;
        }
        #tableWrapper{
             display: flex;
             justify-content: center;
        }
        #tb1 { position:absolute; border: 1px solid #444444; border-collapse: collapse; }
        #tb2 { position:absolute; border: 1px solid #444444; border-collapse: collapse; display:none; }

        th, td {
             border: 1px solid #444444;
        }
        .progress {height:60px; width:30%; text-align:center; align:center;
        margin-left: auto; margin-right:auto;}
    </style>
    <script language="javascript">
      function view(arg){
         var t1 = document.getElementById("tb1");
         var t2 = document.getElementById("tb2");

         if(arg == 1)
         {
         t1.style.display="block";
         t2.style.display="none";
         }
         else
         {
         t2.style.display="block";
         t1.style.display="none";
         }
    }
    </script>
</head>
<body>
    <div class="container">
        <iframe width="560" height="315" th:src="${url}"></iframe>
    </div>
    <div class="progress" style="width:70%;height:25px">
        <div class="progress-bar progress-bar-success" role="progressbar" th:aria-valuenow="${#numbers.formatDecimal(positivePercent,2,2)}"
             aria-valuemin="0" aria-valuemax="100" th:style="|width:${#numbers.formatDecimal(positivePercent,2,2)}%;text-align:center|" th:text="|긍정적(${#numbers.formatDecimal(positivePercent,2,2)}%)|">
            긍정적(~%)
        </div>
        <div class="progress-bar progress-bar-danger" role="progressbar" th:aria-valuenow="${#numbers.formatDecimal(negativePercent,2,2)}"
             aria-valuemin="0" aria-valuemax="100" th:style="|width:${#numbers.formatDecimal(negativePercent,2,2)}%|" th:text="|부정적(${#numbers.formatDecimal(negativePercent,2,2)}%)|">
            부정적(~%)
        </div>
    </div>
    <div id="btnWrapper">
        <input type="button" value="긍정 댓글" onClick="view(1)">&nbsp;
        <input type="button" value="부정 댓글" onClick="view(2)">
    </div>
    <br><br>
    <div id ="tableWrapper">
    <table id="tb1">
        <thead>
        <tr>
            <th>작성자 아이디</th>
            <th>댓글</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="Comment : ${positiveComments}">
            <td th:text="${Comment.id}"></td>
            <td th:text="${Comment.comment}"></td>
        </tr>
        </tbody>
    </table>
    <table id="tb2">
        <thead>
        <tr>
            <th>작성자 아이디</th>
            <th>댓글</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="Comment : ${negativeComments}">
            <td th:text="${Comment.id}"></td>
            <td th:text="${Comment.comment}"></td>
        </tr>
        </tbody>
    </table>
    </div>
</body>
</html>